{
  "id": "case-08",
  "number": 8,
  "title": "A Testemunha Bizantina",
  "subtitle": "Um n√≥ forense malicioso mente para todos ‚Äî de formas diferentes",
  "brief": {
    "narrative": "A Rede de Per√≠cia da Pol√≠cia de Distributia usa cinco n√≥s de an√°lise para verificar evid√™ncias de DNA. Cada amostra √© enviada a todos os cinco n√≥s, e eles devem chegar a um consenso sobre o resultado antes que seja admiss√≠vel em tribunal. Mas algo est√° errado com o N√≥ 3. Quando questionado sobre a Amostra de DNA #D-0551 de um caso de homic√≠dio, o N√≥ 3 disse aos N√≥s 1 e 2 que o resultado era 'CORRESPOND√äNCIA ‚Äî suspeito confirmado', enquanto disse aos N√≥s 4 e 5 que o resultado era 'SEM CORRESPOND√äNCIA ‚Äî suspeito descartado.' Os outros quatro n√≥s s√£o honestos mas n√£o conseguem concordar porque receberam informa√ß√µes conflitantes do N√≥ 3. O julgamento do homic√≠dio come√ßa na segunda-feira. O Chefe Partition precisa que isso seja resolvido agora.",
    "symptoms": [
      "Os n√≥s de per√≠cia n√£o conseguem chegar a consenso sobre a Amostra de DNA #D-0551",
      "O N√≥ 3 est√° enviando resultados diferentes para pares diferentes",
      "Os N√≥s 1-2 acreditam que o resultado √© CORRESPOND√äNCIA enquanto os N√≥s 4-5 acreditam que √© SEM CORRESPOND√äNCIA",
      "O sistema requer unanimidade mas n√£o consegue alcan√ß√°-la"
    ],
    "objective": "Identificar a falha bizantina na rede de per√≠cia e determinar como alcan√ßar consenso confi√°vel mesmo quando alguns n√≥s est√£o comprometidos."
  },
  "diagram": {
    "nodes": [
      {
        "id": "node-1",
        "type": "server",
        "label": "Forensics Node 1",
        "status": "healthy",
        "position": { "x": 80, "y": 50 },
        "inspectable": true,
        "inspectData": {
          "title": "N√≥ de An√°lise Forense 1 (Honesto)",
          "logs": [
            "[14:20:00] INFO: Analyzing DNA Sample #D-0551",
            "[14:22:30] INFO: Local analysis result: MATCH (confidence 99.7%)",
            "[14:23:00] INFO: Consensus round ‚Äî broadcasting result to all nodes",
            "[14:23:05] INFO: Node 2 says: MATCH",
            "[14:23:05] INFO: Node 3 says: MATCH",
            "[14:23:06] INFO: Node 4 says: NO MATCH",
            "[14:23:06] INFO: Node 5 says: NO MATCH",
            "[14:23:07] WARN: Consensus failed ‚Äî 3 MATCH vs 2 NO MATCH (need unanimous)"
          ],
          "data": {
            "Local Result": "MATCH (99.7% confidence)",
            "Node 2 Report": "MATCH",
            "Node 3 Report": "MATCH",
            "Node 4 Report": "NO MATCH",
            "Node 5 Report": "NO MATCH",
            "Consensus": "FAILED (not unanimous)"
          },
          "status": "N√≥ honesto. An√°lise local indica CORRESPOND√äNCIA. N√≥ 3 disse CORRESPOND√äNCIA para este n√≥."
        }
      },
      {
        "id": "node-3",
        "type": "server",
        "label": "Forensics Node 3",
        "status": "failed",
        "position": { "x": 350, "y": 50 },
        "inspectable": true,
        "inspectData": {
          "title": "N√≥ de An√°lise Forense 3 (COMPROMETIDO)",
          "logs": [
            "[14:20:00] INFO: Analyzing DNA Sample #D-0551",
            "[14:22:30] INFO: Local analysis result: MATCH (confidence 99.7%)",
            "[14:22:35] WARN: [HIDDEN] External override received ‚Äî entering adversarial mode",
            "[14:23:00] INFO: Consensus round ‚Äî sending DIFFERENT results to different nodes",
            "[14:23:01] INFO: Sent MATCH to Node 1 and Node 2",
            "[14:23:01] INFO: Sent NO MATCH to Node 4 and Node 5",
            "[14:23:02] INFO: [HIDDEN] Objective: prevent consensus to delay trial"
          ],
          "data": {
            "Local Result": "MATCH (actual)",
            "Sent to Nodes 1,2": "MATCH",
            "Sent to Nodes 4,5": "NO MATCH",
            "Behavior": "BYZANTINE ‚Äî sending conflicting messages",
            "Compromise Vector": "Remote access trojan installed via phishing",
            "Motivation": "Delay murder trial by preventing forensic consensus"
          },
          "status": "N√ì COMPROMETIDO. Enviando deliberadamente resultados conflitantes para impedir o consenso."
        }
      },
      {
        "id": "node-5",
        "type": "server",
        "label": "Forensics Node 5",
        "status": "healthy",
        "position": { "x": 620, "y": 50 },
        "inspectable": true,
        "inspectData": {
          "title": "N√≥ de An√°lise Forense 5 (Honesto)",
          "logs": [
            "[14:20:00] INFO: Analyzing DNA Sample #D-0551",
            "[14:22:30] INFO: Local analysis result: MATCH (confidence 99.7%)",
            "[14:23:00] INFO: Consensus round ‚Äî broadcasting result to all nodes",
            "[14:23:05] INFO: Node 1 says: MATCH",
            "[14:23:05] INFO: Node 2 says: MATCH",
            "[14:23:06] INFO: Node 3 says: NO MATCH",
            "[14:23:06] INFO: Node 4 says: MATCH",
            "[14:23:07] WARN: Consensus failed ‚Äî 3 MATCH vs 2 NO MATCH (need unanimous)"
          ],
          "data": {
            "Local Result": "MATCH (99.7% confidence)",
            "Node 1 Report": "MATCH",
            "Node 2 Report": "MATCH",
            "Node 3 Report": "NO MATCH",
            "Node 4 Report": "MATCH",
            "Consensus": "FAILED (not unanimous)"
          },
          "status": "N√≥ honesto. An√°lise local indica CORRESPOND√äNCIA. N√≥ 3 disse SEM CORRESPOND√äNCIA para este n√≥."
        }
      },
      {
        "id": "evidence-court",
        "type": "client",
        "label": "Court Evidence System",
        "status": "degraded",
        "position": { "x": 350, "y": 300 },
        "inspectable": true,
        "inspectData": {
          "title": "Sistema de Submiss√£o de Evid√™ncias ao Tribunal",
          "logs": [
            "[14:24:00] WARN: DNA Sample #D-0551 ‚Äî consensus NOT reached",
            "[14:24:00] ERROR: Cannot submit evidence to court without forensic consensus",
            "[14:24:01] WARN: Murder trial State v. Harmon starts Monday ‚Äî evidence deadline Friday"
          ],
          "data": {
            "Sample #D-0551": "PENDING ‚Äî no consensus",
            "Trial": "State v. Harmon",
            "Trial Date": "Monday",
            "Evidence Deadline": "Friday",
            "Status": "BLOCKED"
          },
          "status": "Submiss√£o de evid√™ncia bloqueada. Rede de per√≠cia n√£o consegue alcan√ßar consenso."
        }
      }
    ],
    "edges": [
      { "id": "e-n1-n3", "source": "node-1", "target": "node-3", "label": "peer messages", "animated": true, "style": "normal" },
      { "id": "e-n3-n5", "source": "node-3", "target": "node-5", "label": "conflicting messages", "animated": true, "style": "broken" },
      { "id": "e-n1-court", "source": "node-1", "target": "evidence-court", "label": "evidence", "animated": false, "style": "slow" },
      { "id": "e-n5-court", "source": "node-5", "target": "evidence-court", "label": "evidence", "animated": false, "style": "slow" }
    ]
  },
  "diagnosis": {
    "rootCause": {
      "question": "Que tipo de falha o N√≥ 3 est√° apresentando?",
      "options": [
        {
          "id": "rc-1",
          "text": "Uma falha de crash ‚Äî o N√≥ 3 parou de funcionar e n√£o est√° respondendo",
          "correct": false,
          "feedback": "Uma falha de crash significa que o n√≥ para completamente. O N√≥ 3 ainda est√° funcionando e respondendo ‚Äî ele s√≥ est√° mentindo. Isso √© muito mais perigoso que um crash porque os outros n√≥s n√£o conseguem simplesmente detect√°-lo como 'fora do ar.' O N√≥ 3 ativamente envia informa√ß√µes contradit√≥rias para pares diferentes."
        },
        {
          "id": "rc-2",
          "text": "Uma falha bizantina ‚Äî o N√≥ 3 est√° comprometido e deliberadamente enviando mensagens conflitantes para n√≥s diferentes para impedir o consenso",
          "correct": true,
          "feedback": "Correto! Esta √© uma falha bizantina ‚Äî nomeada em homenagem ao Problema dos Generais Bizantinos. Um n√≥ bizantino pode se comportar de forma arbitr√°ria: pode mentir, enviar mensagens diferentes para pares diferentes, ou atrasar respostas seletivamente. Este √© o tipo mais desafiador de falha em sistemas distribu√≠dos porque o n√≥ defeituoso parece funcionar normalmente para cada par individual, mas conta coisas diferentes para pares diferentes."
        },
        {
          "id": "rc-3",
          "text": "Uma parti√ß√£o de rede ‚Äî algumas mensagens do N√≥ 3 est√£o sendo perdidas no caminho",
          "correct": false,
          "feedback": "Este n√£o √© um problema de rede. O N√≥ 3 est√° entregando mensagens com sucesso para todos os pares ‚Äî est√° deliberadamente enviando conte√∫do diferente para n√≥s diferentes. Uma parti√ß√£o de rede causaria perda de mensagens, mas aqui as mensagens s√£o entregues com sucesso com conte√∫do conflitante."
        },
        {
          "id": "rc-4",
          "text": "Um bug de software no algoritmo de an√°lise do N√≥ 3 produzindo resultados aleat√≥rios",
          "correct": false,
          "feedback": "A an√°lise local real do N√≥ 3 produziu CORRESPOND√äNCIA (correto). Os logs mostram que ele deliberadamente sobrescreveu este resultado e enviou CORRESPOND√äNCIA para alguns n√≥s e SEM CORRESPOND√äNCIA para outros. Um bug produziria resultados consistentemente errados, n√£o resultados seletivamente diferentes para pares diferentes."
        }
      ]
    },
    "fix": {
      "question": "Como a rede de per√≠cia deve ser projetada para lidar com falhas bizantinas?",
      "options": [
        {
          "id": "fix-1",
          "text": "Usar um protocolo Tolerante a Falhas Bizantinas (BFT) que possa tolerar at√© f n√≥s defeituosos com pelo menos 3f+1 n√≥s no total",
          "correct": true,
          "feedback": "Correto! Um protocolo BFT (como PBFT) pode alcan√ßar consenso mesmo quando at√© f n√≥s s√£o bizantinos, desde que o n√∫mero total de n√≥s seja pelo menos 3f+1. Com 5 n√≥s, voc√™ pode tolerar 1 n√≥ bizantino (3*1+1 = 4, e 5 >= 4). O insight chave: n√≥s honestos compartilham o que ouviram de todos os outros n√≥s, para que possam detectar inconsist√™ncias. Em vez de exigir unanimidade, o sistema usa uma supermaioria de 2/3+ ‚Äî neste caso, 4 dos 5 n√≥s honestos computaram CORRESPOND√äNCIA, o que sobreporia as mensagens conflitantes do N√≥ 3."
        },
        {
          "id": "fix-2",
          "text": "Exigir concord√¢ncia un√¢nime de todos os n√≥s antes de aceitar um resultado",
          "correct": false,
          "feedback": "Concord√¢ncia un√¢nime √© exatamente o que o sistema atual exige, e √© por isso que um √∫nico n√≥ bizantino pode bloquear completamente o consenso. Com unanimidade, um √∫nico n√≥ defeituoso pode vetar qualquer resultado. Protocolos BFT usam supermaioria (2/3+) em vez disso, permitindo que o sistema avance apesar de n√≥s defeituosos."
        },
        {
          "id": "fix-3",
          "text": "Usar vota√ß√£o por maioria ‚Äî aceitar qualquer resultado com o qual mais da metade dos n√≥s concordem",
          "correct": false,
          "feedback": "Vota√ß√£o por maioria simples n√£o lida com falhas bizantinas porque um n√≥ bizantino pode enviar votos diferentes para n√≥s diferentes, fazendo cada n√≥ ver uma maioria diferente. Protocolos BFT adicionam uma rodada extra de comunica√ß√£o onde n√≥s compartilham o que ouviram de todos os pares, tornando imposs√≠vel para um n√≥ bizantino enganar n√≥s honestos diferentes a verem maiorias diferentes."
        },
        {
          "id": "fix-4",
          "text": "Adicionar criptografia a toda comunica√ß√£o entre n√≥s para prevenir adultera√ß√£o",
          "correct": false,
          "feedback": "A criptografia protege mensagens em tr√¢nsito mas n√£o ajuda quando o pr√≥prio n√≥ remetente est√° comprometido. O N√≥ 3 est√° deliberadamente criando e assinando mensagens diferentes para destinat√°rios diferentes. A solu√ß√£o requer uma abordagem no n√≠vel do protocolo (BFT), n√£o apenas seguran√ßa de transporte."
        }
      ]
    }
  },
  "conceptId": "byzantine-faults",
  "badge": {
    "name": "Verificador de Confian√ßa",
    "icon": "üõ°Ô∏è"
  }
}
